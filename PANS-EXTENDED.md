# Vauban eXtended - Du Blog au Twitter DÃ©centralisÃ©

## Vision: "X, mais en mieux"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VAUBAN eXtended                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   TWITTER VIEW (Timeline)          BLOG VIEW (Classique)                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚ @alice Â· 2h         â”‚          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚
â”‚   â”‚ Just shipped v2!    â”‚          â”‚ â”‚   FEATURED    â”‚   â”‚              â”‚
â”‚   â”‚ [Thread â†’]          â”‚          â”‚ â”‚    ARTICLE    â”‚   â”‚              â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚
â”‚   â”‚ @bob Â· 5h           â”‚          â”‚                     â”‚              â”‚
â”‚   â”‚ New article: "Why   â”‚          â”‚ Latest Posts        â”‚              â”‚
â”‚   â”‚ Cairo is amazing"   â”‚          â”‚ â”œâ”€â”€ Post 1          â”‚              â”‚
â”‚   â”‚ [ğŸ“„ Read full â†’]    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â”œâ”€â”€ Post 2          â”‚              â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚ â””â”€â”€ Post 3          â”‚              â”‚
â”‚   â”‚ @charlie Â· 8h       â”‚          â”‚                     â”‚              â”‚
â”‚   â”‚ Quick thought...    â”‚          â”‚ Archives            â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ Categories          â”‚              â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                         â”‚
â”‚   MÃŠME CONTENU, DEUX PRÃ‰SENTATIONS                                      â”‚
â”‚   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                        â”‚
â”‚   â€¢ Tweet court â†’ affichÃ© inline dans timeline                          â”‚
â”‚   â€¢ Article long â†’ preview + "Read full" link                           â”‚
â”‚   â€¢ Thread â†’ preview + "Continue thread" link                           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pourquoi X (Twitter) rate ses articles

| ProblÃ¨me X | Solution Vauban |
|------------|-----------------|
| Articles se perdent dans le flux | Pin, Featured, Archives dÃ©diÃ©es |
| Pas de catÃ©gorisation | Tags, Collections, SÃ©ries |
| Pas de SEO | URL propres, meta tags, sitemap |
| Pas d'historique browsable | Vue blog classique avec navigation |
| Threads = UX horrible | Thread natif avec navigation fluide |
| Pas d'ownership | On-chain, exportable, permanent |

---

## Architecture: Contenus UnifiÃ©s

### Types de Contenu

```typescript
enum ContentType {
  TWEET = 'tweet',      // < 280 chars, inline display
  THREAD = 'thread',    // Multiple connected tweets
  ARTICLE = 'article',  // Long-form, full page
}

interface Post {
  id: string;
  type: ContentType;
  author: string;
  content: string;          // Markdown/MDX

  // Pour timeline view
  preview: string;          // First 280 chars or custom excerpt

  // Pour blog view
  title?: string;           // Required for articles
  coverImage?: string;      // Optional hero image
  tags: string[];

  // Metadata
  createdAt: number;
  updatedAt?: number;

  // Thread specific
  parentId?: string;        // If reply
  threadRootId?: string;    // If part of thread

  // Engagement (from Social contract)
  likes: number;
  comments: number;
  reposts: number;

  // Storage
  arweaveTxId: string;
  ipfsCid: string;
  contentHash: string;
}
```

### Stockage On-Chain

```cairo
// Modification du BlogRegistry existant
#[derive(Drop, Serde, starknet::Store)]
enum PostType {
    Tweet,
    Thread,
    Article,
}

#[derive(Drop, Serde, starknet::Store)]
struct PostMetadata {
    post_type: PostType,
    author: ContractAddress,
    content_hash: felt252,
    arweave_tx_id: ByteArray,
    ipfs_cid: ByteArray,
    parent_id: u64,           // 0 if none
    thread_root_id: u64,      // 0 if standalone
    created_at: u64,
    updated_at: u64,
    is_deleted: bool,
    is_pinned: bool,          // Author can pin to profile
    is_featured: bool,        // Admin can feature
}
```

---

## Vues Frontend

### 1. Timeline View (`/feed`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [For You] [Following] [Articles] [Threads]                 â”‚  â† Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Avatar] @alice Â· 2h                           [Â·Â·Â·]â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚ Just deployed our new smart contract! ğŸš€            â”‚    â”‚  â† TWEET
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚ [ğŸ’¬ 12] [ğŸ”„ 5] [â¤ï¸ 42] [ğŸ“¤]                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Avatar] @bob Â· 5h                             [Â·Â·Â·]â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚ ğŸ“„ ARTICLE                                          â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â† ARTICLE
â”‚  â”‚ â”‚ [Cover Image]                                   â”‚ â”‚    â”‚     (preview)
â”‚  â”‚ â”‚ Why Cairo is the Future of Smart Contracts      â”‚ â”‚    â”‚
â”‚  â”‚ â”‚ A deep dive into Starknet's programming lang... â”‚ â”‚    â”‚
â”‚  â”‚ â”‚                          [Read full article â†’]  â”‚ â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚ [ğŸ’¬ 8] [ğŸ”„ 15] [â¤ï¸ 89] [ğŸ“¤]                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Avatar] @charlie Â· 8h                         [Â·Â·Â·]â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚ ğŸ§µ THREAD (1/5)                                     â”‚    â”‚  â† THREAD
â”‚  â”‚ Let me explain how session keys work in Starknet... â”‚    â”‚     (preview)
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚                              [Continue thread â†’]    â”‚    â”‚
â”‚  â”‚ [ğŸ’¬ 24] [ğŸ”„ 31] [â¤ï¸ 156] [ğŸ“¤]                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Blog View (`/blog` ou `/`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VAUBAN BLOG                              â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  FEATURED ARTICLE                    â”‚    â”‚
â”‚  â”‚  [Full-width cover image]                           â”‚    â”‚
â”‚  â”‚                                                      â”‚    â”‚
â”‚  â”‚  Why Cairo is the Future of Smart Contracts         â”‚    â”‚
â”‚  â”‚  By @bob Â· Dec 15, 2025 Â· 12 min read              â”‚    â”‚
â”‚  â”‚  Tags: #cairo #starknet #web3                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  LATEST ARTICLES                    â”‚  SIDEBAR             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  Categories          â”‚
â”‚  â”‚ [Thumb] Article Title       â”‚    â”‚  â€¢ Cairo (12)        â”‚
â”‚  â”‚         Preview text...     â”‚    â”‚  â€¢ Tutorials (8)     â”‚
â”‚  â”‚         @author Â· 5h        â”‚    â”‚  â€¢ News (24)         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  Popular Tags        â”‚
â”‚  â”‚ [Thumb] Another Article     â”‚    â”‚  #defi #nft #l2      â”‚
â”‚  â”‚         Preview text...     â”‚    â”‚                      â”‚
â”‚  â”‚         @author Â· 1d        â”‚    â”‚  Top Authors         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  1. @alice (420pts)  â”‚
â”‚                                     â”‚  2. @bob (380pts)    â”‚
â”‚  [Load more...]                     â”‚  3. @charlie (290pts)â”‚
â”‚                                     â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Profile View (`/profile/@username`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [Banner Image]                                       â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ [Avatar]  @alice                                     â”‚   â”‚
â”‚  â”‚           Alice Developer                            â”‚   â”‚
â”‚  â”‚           Building the future of Web3                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ“ Paris  ğŸ”— alice.dev  ğŸ“… Joined Dec 2024          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ 42 Following   1.2K Followers   Level 5 ğŸ†          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ [Follow]  [Message]                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [Tweets] [Articles] [Threads] [Likes] [Media]              â”‚
â”‚  â•â•â•â•â•â•â•                                                    â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Œ PINNED ARTICLE                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ My Journey into Cairo Development                    â”‚   â”‚
â”‚  â”‚ Everything I learned building on Starknet...         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [Regular posts timeline...]                                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Plan d'Action

### ACTION IMMÃ‰DIATE (Avant tout)

```bash
# 1. Commit et push les changements actuels
git add .
git commit -m "feat: add gamification, admin users, TTS highlighting, author stats fix"
git push origin master

# 2. CrÃ©er nouvelle branche feature
git checkout -b feature/eXtended
```

### Sprint 0: Refactoring Content Model (3-4 jours)

| TÃ¢che | Fichiers | Description |
|-------|----------|-------------|
| Modifier BlogRegistry contract | `contracts/src/blog_registry.cairo` | Ajouter PostType enum, parent_id, thread_root_id |
| Migrer schema Zod | `packages/shared-types/src/post.ts` | Nouveau schema avec ContentType |
| Adapter web3-utils | `packages/web3-utils/src/starknet.ts` | Fonctions pour threads |
| Tests contract | `contracts/tests/test_blog_registry.cairo` | Tests threads, replies |

### Sprint 1: OAuth + Custodial Wallet (1 semaine)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Setup NextAuth GitHub/Google | `app/api/auth/[...nextauth]/route.ts` | P0 |
| Service wallet custodial | `lib/wallet-service.ts` | P0 |
| Schema PostgreSQL | `prisma/schema.prisma` | P0 |
| Page signin custom | `app/auth/signin/page.tsx` | P1 |
| UserMenu component | `components/auth/UserMenu.tsx` | P1 |

### Sprint 2: Timeline View (1 semaine)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Page /feed | `app/feed/page.tsx` | P0 |
| TweetCard component | `components/feed/TweetCard.tsx` | P0 |
| ArticlePreview component | `components/feed/ArticlePreview.tsx` | P0 |
| ThreadPreview component | `components/feed/ThreadPreview.tsx` | P0 |
| Composer (nouveau post) | `components/feed/Composer.tsx` | P1 |
| Tab navigation (For You/Following/Articles) | `components/feed/FeedTabs.tsx` | P1 |

### Sprint 3: Blog View AmÃ©liorÃ©e (4-5 jours)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Refactor homepage | `app/page.tsx` | P0 |
| FeaturedArticle component | `components/blog/FeaturedArticle.tsx` | P0 |
| ArticleGrid component | `components/blog/ArticleGrid.tsx` | P0 |
| Sidebar (categories, tags, authors) | `components/blog/Sidebar.tsx` | P1 |
| Archive page | `app/blog/archive/page.tsx` | P1 |

### Sprint 4: Follows + Notifications (1 semaine)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Contrat Follows | `contracts/src/follows.cairo` | P0 |
| FollowButton | `components/social/FollowButton.tsx` | P0 |
| NotificationBell | `components/notifications/NotificationBell.tsx` | P1 |
| Apibara indexer setup | `indexer/` | P1 |

### Sprint 5: Threads + Replies (1 semaine)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Thread view page | `app/thread/[id]/page.tsx` | P0 |
| Reply component | `components/feed/Reply.tsx` | P0 |
| Thread composer | `components/feed/ThreadComposer.tsx` | P1 |
| Quote tweet | `components/feed/QuoteTweet.tsx` | P1 |

### Sprint 6: Leaderboard + Polish (4-5 jours)

| TÃ¢che | Fichiers | PrioritÃ© |
|-------|----------|----------|
| Leaderboard page | `app/leaderboard/page.tsx` | P0 |
| LeaderboardTable | `components/leaderboard/LeaderboardTable.tsx` | P0 |
| Cron job calcul scores | Backend service | P1 |

---

## Fichiers Ã  CrÃ©er

```
apps/frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ feed/
â”‚   â”‚   â””â”€â”€ page.tsx                    # Timeline Twitter-like
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ page.tsx                    # Vue blog classique
â”‚   â”‚   â””â”€â”€ archive/page.tsx            # Archives
â”‚   â”œâ”€â”€ thread/
â”‚   â”‚   â””â”€â”€ [id]/page.tsx               # Vue thread complÃ¨te
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ [...nextauth]/route.ts  # NextAuth
â”‚   â”‚   â””â”€â”€ wallet/
â”‚   â”‚       â””â”€â”€ route.ts                # Wallet custodial
â”‚   â””â”€â”€ auth/
â”‚       â””â”€â”€ signin/page.tsx             # Page login custom
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ feed/
â”‚   â”‚   â”œâ”€â”€ Timeline.tsx                # Container timeline
â”‚   â”‚   â”œâ”€â”€ TweetCard.tsx               # Post court
â”‚   â”‚   â”œâ”€â”€ ArticlePreview.tsx          # Preview article
â”‚   â”‚   â”œâ”€â”€ ThreadPreview.tsx           # Preview thread
â”‚   â”‚   â”œâ”€â”€ Composer.tsx                # Nouveau post
â”‚   â”‚   â”œâ”€â”€ Reply.tsx                   # RÃ©ponse
â”‚   â”‚   â””â”€â”€ FeedTabs.tsx                # Navigation tabs
â”‚   â”‚
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ FeaturedArticle.tsx         # Hero article
â”‚   â”‚   â”œâ”€â”€ ArticleGrid.tsx             # Grille articles
â”‚   â”‚   â”œâ”€â”€ ArticleCard.tsx             # Card article
â”‚   â”‚   â””â”€â”€ Sidebar.tsx                 # CatÃ©gories, tags
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ SignInButton.tsx            # Boutons OAuth
â”‚   â”‚   â””â”€â”€ UserMenu.tsx                # Menu utilisateur
â”‚   â”‚
â”‚   â””â”€â”€ social/
â”‚       â”œâ”€â”€ FollowButton.tsx            # Follow/unfollow
â”‚       â””â”€â”€ EngagementBar.tsx           # Likes, comments, reposts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ auth.ts                         # NextAuth config
â”‚   â””â”€â”€ wallet-service.ts               # Wallet custodial
â”‚
â””â”€â”€ hooks/
    â”œâ”€â”€ use-feed.ts                     # Timeline data
    â””â”€â”€ use-follow.ts                   # Follow state

contracts/src/
â”œâ”€â”€ blog_registry.cairo                 # MODIFIER: ajouter PostType
â””â”€â”€ follows.cairo                       # NOUVEAU

packages/shared-types/src/
â””â”€â”€ post.ts                             # MODIFIER: ContentType enum
```

---

## Flux Utilisateur Principal

### Nouvel Utilisateur

```
1. Arrive sur /blog (vue classique)
   â†’ Voit articles featured, grid, peut lire sans compte

2. Clique "Sign in" â†’ /auth/signin
   â†’ Choisit GitHub ou Google
   â†’ OAuth redirect â†’ callback
   â†’ Backend crÃ©e wallet custodial
   â†’ Redirect vers /feed (timeline)

3. Timeline /feed
   â†’ Voit flux For You (algorithme)
   â†’ Peut poster tweet, article, ou thread
   â†’ Peut follow des auteurs
   â†’ Tab "Following" = flux perso

4. Profile /@username
   â†’ Voit ses posts, articles, threads
   â†’ Peut pin un article
   â†’ Stats (followers, following, points)
```

### Poster du Contenu

```
Tweet (< 280 chars):
  Composer â†’ Type â†’ Submit
  â†’ StockÃ© on-chain + Arweave
  â†’ ApparaÃ®t dans timeline

Article (long-form):
  /admin/editor â†’ Write MDX â†’ Publish
  â†’ Preview dans timeline + Page dÃ©diÃ©e
  â†’ ApparaÃ®t aussi dans /blog

Thread:
  Composer â†’ "Create thread" mode
  â†’ Multiple posts liÃ©s
  â†’ ApparaÃ®t comme preview avec "Continue â†’"
```

---

## Questions Ã  DÃ©cider

1. **URL structure:**
   - `/feed` pour timeline, `/blog` pour classique, `/` = lequel?
   - Suggestion: `/` = `/blog` (SEO), `/feed` = timeline (logged in users)

2. **Algorithme "For You":**
   - Simple: rÃ©cent + engagement score
   - Complexe: ML, similaritÃ©, follows des follows
   - Suggestion: commencer simple

3. **Thread max length:**
   - Unlimited comme X?
   - LimitÃ© (ex: 10 posts)?
   - Suggestion: 25 max

4. **Reposts (retweets):**
   - Simple repost (juste share)
   - Quote post (avec commentaire)
   - Suggestion: les deux

---

## VÃ©rification

### Test du Flow Complet

```bash
# 1. DÃ©marrer l'app
pnpm dev

# 2. Test Auth Flow
- Aller sur /auth/signin
- Login GitHub
- VÃ©rifier redirect vers /feed
- VÃ©rifier wallet crÃ©Ã© dans DB

# 3. Test Post Tweet
- Dans Composer, Ã©crire < 280 chars
- Submit
- VÃ©rifier apparaÃ®t dans timeline

# 4. Test Post Article
- Aller sur /admin/editor
- Ã‰crire article MDX
- Publish
- VÃ©rifier preview dans /feed
- VÃ©rifier page complÃ¨te dans /blog

# 5. Test Follow
- Aller sur profil d'un auteur
- Cliquer Follow
- VÃ©rifier ses posts dans tab "Following"
```

---

## RÃ©sumÃ©

**Ce qu'on construit:**
Un Twitter dÃ©centralisÃ© avec un layer blog intÃ©grÃ© (comme les Articles X, mais mieux).

**La diffÃ©rence:**
- Deux vues du mÃªme contenu (timeline + blog classique)
- Articles ne se perdent pas (pinned, featured, archives, catÃ©gories)
- Ownership rÃ©el (on-chain, exportable)
- UX Web2 (OAuth, pas de wallet visible)

**PremiÃ¨re Ã©tape:**
1. Commit + push current changes
2. CrÃ©er branche `feature/eXtended`
3. Commencer Sprint 0: refactoring content model
